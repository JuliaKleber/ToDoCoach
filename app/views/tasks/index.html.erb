<p>Here someone can put the search bar</p>

<%= link_to %>
<%= simple_form_for :search, url: tasks_path, method: :get do |f| %>
  <div class="search-form-control form-group d-flex search-form">
    <input class="form-control string required" type="text" name="search[query]" id="search_query" value="<%= params.dig(:search, :query) %>" placeholder="search by task name or category"/>
    <div class="form-control">
      <%= f.input :category, as: :select, collection: current_user.categories, label: false, include_blank: true, required: false, selected: params.dig(:search, :category) %>
    </div>
    <%= f.submit 'Search', class: "btn-ghost" do %>
<% end %>
  </div>
<% end %>

<% @grouped_tasks.each_with_index do |tasks, index| %>
  <h4><%= @dates[index] %></h4>
  <div class='card'>
    <% tasks.each do |task| %>
      <span>
        <% if task.completed %>
          <%= link_to toggle_completed_task_path(task), data: {turbo_method: :patch} do %>
            <i class='fa-regular fa-circle-check'></i>
          <% end %>
        <% else %>
          <%= link_to toggle_completed_task_path(task), data: {turbo_method: :patch} do %>
            <i class='fa-regular fa-circle'></i>
          <% end %>
        <% end %>
        <%= link_to task_path(task) do %>
          <%= task.title %>
        <% end %>
      <% if task.priority == 1 %>
        <span class='high-priority-color'><i class='fa-solid fa-circle'></i></span>
      <% elsif task.priority == 2 %>
        <span class='medium-priority-color'><i class='fa-solid fa-circle'></i></span>
      <% else %>
        <span class='low-priority-color'><i class='fa-solid fa-circle'></i></span>
      <% end %>
      </span>
    <% end %>
  </div>
<% end %>
