<div class='bg-background-color rounded p-3'>

  <% @task.categories.each do |category| %>
    <div class="d-flex justify-content-center">
      <% if category.name.include?(@task.categories.name) %>
        <span class="task-category border rounded category <%= category.name %>-color"><%= category.name %></span>
      <% else %>
        <span class="task-category border rounded category" style='background-color: #ecaa2e;'><%= category.name %></span>
      <% end %>
    </div>
  <% end %>

  <div class='d-flex flex-row justify-content-begin m-2'>
    <h5 class='mt-3'>
      <%= render 'priority_dot', task: @task %>
      <%= @task.title %>
    </h5>
  </div>

  <div class='search-showpage showpage input-field m-2'>
    <span>
      <%= @task.description %>
    </span>
  </div>

  <% if @task.due_date? || @task.reminder_date? %>
    <div class='search-showpage showpage input-field m-2'>
      <p>
        <% if @task.due_date? %>
          <i class='fa-solid fa-calendar-days' style='color: #2c2c917a'></i>
          <%=@task.due_date.strftime('%a, %d %B, %I:%M %p') %>
        <% end %>
      </p>
      <p>
        <% if @task.reminder_date? %>
          <i class='fa-solid fa-bell' style='color: #c0611db5'></i>
        <%= @task.reminder_date.strftime('%a, %d %B, %I:%M %p') %>
        <% end %>
      </p>
      <span>Created by: <p class="show-task-creator"><%= @task.user.user_name %></p></span>
    </div>
  <% end %>

  <div class='d-flex justify-content-center'>
    <button type='button' class='btn btn-reminder m-2'>Set reminder</button>
  </div>

  <div class='d-flex flex-row justify-content-center m-2'>
    <%= link_to edit_task_path(@task), class: 'm-2' do %>
      <i class='fa fa-pencil' style='color: #2c2c91;'></i>
    <% end %>
    <%= link_to task_path(@task.id), data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'}, class: 'm-2' do %>
      <i class='fa fa-trash' aria-hidden='true' style='color: #2c2c91;'></i>
    <% end %>
    <%= link_to 'javascript:history.back()', remote: true, class: 'm-2' do %>
      <i class="fa-solid fa-rotate-left" style='color: #2c2c91;'></i>
    <% end %>
  </div>

</div>
